{"name":"Scala-kafka","tagline":"Quick up and running using Scala for Apache Kafka","body":"# Description\r\n\r\nQuick up and running using Scala for Apache Kafka.\r\n\r\nSoftware versions used in each box (virtual machine running locally) :\r\n\r\n-   Type: Virtual Box (from [ffuenf][])\r\n-   OS: Debian 7.4 x64\r\n-   kafka 0.8.1\r\n-   Scala 2.10\r\n-   Java 1.7\r\n-   Ganglia 3.5.8 / Ganglia-web 3.5.12 (multicast mode)\r\n\r\nBox details :\r\n\r\n-   1 box for the broker (1cpu / 1024mo / 10Go)\r\n-   1 box for the zookeeper (1cpu / 512mo / 10Go)\r\n\r\n# Requirements\r\n\r\nUse Vagrant to get up and running :\r\n\r\n1.  Install Vagrant <http://www.vagrantup.com/>\r\n2.  Install Virtual Box <https://www.virtualbox.org/>\r\n\r\n# Installation\r\n\r\nClone this repository in your home folder for example :\r\n\r\n    cd ~\r\n    git clone https://github.com/isnoopy/scala-kafka.git\r\n\r\n# Fire up\r\n\r\nGo to to scala-kafka foler and start the VMs :\r\n\r\n    cd scala-kafka\r\n    vagrant up\r\n\r\nOnce this is done (\\~10min) :\r\n\r\n-   One zookeeper node 'zk1' is running on 192.168.10.20 (listening on\r\n    port 2181)\r\n-   One broker 'k1' is running on 192.168.10.21 (listening on port 9092)\r\n\r\nYou can see VM status with :\r\n\r\n    vagrant status\r\n\r\nCurrent machine states:\r\n\r\n    zk1                       running (virtualbox)\r\n    k1                        running (virtualbox)\r\n\r\nIf you want you can login to the machines using 'vagrant ssh ' (zk1 or\r\nk1) but you don't need to.\r\n\r\n# Run the tests\r\n\r\nAll the tests in src/test/scala/\\* can be run with :\r\n\r\n    ./sbt test \r\n\r\nand should pass :\r\n\r\n    [info] Total for specification KafkaSpec\r\n    [info] Finished in 33 ms\r\n    [info] 3 examples, 0 failure, 0 error\r\n    [info] Passed: Total 3, Failed 0, Errors 0, Passed 3\r\n    [success] Total time: 5 s, completed 11 avr. 2014 16:50:36\r\n\r\nYou can access the brokers and zookeeper by their IP from your local\r\nnetwork without having to go into vm.\r\n\r\n    bin/kafka-console-producer.sh --broker-list 192.168.10.20:9092 --topic <get his from the random topic created in test>\r\n\r\n    bin/kafka-console-consumer.sh --zookeeper 192.168.10.21:2181 --topic <get his from the random topic created in test> --from-beginning\r\n\r\n# Check box load and health\r\n\r\nUsing Ganglia for monitoring ([more details][]), you can check each VM\r\nressource consumption (CPU, RAM, HD etc.) at\r\n<http://192.168.10.21/ganglia> :\r\n\r\n![alt text](docs/img/ganglia.png)\r\n\r\nAnd the kafka broker details on node 'k1':\r\n\r\n![alt text](docs/img/ganglia-kafka.png)\r\n\r\n# Stop\r\n\r\nTo quickly stop all the VM :\r\n\r\n    vagrant suspend\r\n\r\n    ==> zk1: Saving VM state and suspending execution...\r\n    ==> k1: Saving VM state and suspending execution...\r\n\r\nOR to completely shutdown all the VM :\r\n\r\n    vagrant halt\r\n\r\n    ==> zk1: Attempting graceful shutdown of VM...\r\n    ==> k1: Attempting graceful shutdown of VM...\r\n\r\n# Resume \r\n\r\nTo start again the boxes (after ’suspend’ or ‘halt’), simply run :\r\n\r\n    vagrant up\r\n\r\n# Clean up\r\n\r\nTo completely stop and remove all the boxes files :\r\n\r\n    vagrant destroy\r\n\r\n        k1: Are you sure you want to destroy the 'k1' VM? [y/N] y\r\n    ==> k1: Destroying VM and associated drives...\r\n    ==> k1: Running cleanup tasks for 'shell' provisioner...\r\n    ==> k1: Running cleanup tasks for 'shell' provisioner...\r\n        zk1: Are you sure you want to destroy the 'zk1' VM? [y/N] y\r\n    ==> zk1: Destroying VM and associated drives...\r\n    ==> zk1: Running cleanup tasks for 'shell' provisioner...\r\n    ==> zk1: Running cleanup tasks for 'shell' provisioner...\r\n\r\nMore on vagrant tools :\r\n[http://docs.vagrantup.com/v2/getting-started/teardown.html][]\r\n\r\n  [ffuenf]: https://vagrantcloud.com/ffuenf\r\n  [more details]: http://ganglia.sourceforge.net/\r\n  []: docs/img/ganglia.png\r\n  [1]: docs/img/ganglia-kafka.png\r\n  [http://docs.vagrantup.com/v2/getting-started/teardown.html]: #\r\n","google":"UA-39567970-1","note":"Don't delete this file! It's used internally to help with page regeneration."}